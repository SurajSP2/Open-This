<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sharayu will be my valentine</title>

  <style>
    :root{
      --bg1:#fff5fb;
      --bg2:#fffef2;
      --text:#2b1b2b;
      --yes:#ff2d55;
      --yes-dark:#c4002a;
      --shadow: 0 12px 30px rgba(0,0,0,.12);
    }

    *{ box-sizing: border-box; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      min-height:100vh;
      overflow:hidden;
      color:var(--text);
      background: radial-gradient(circle at 20% 20%, var(--bg1), transparent 55%),
                  radial-gradient(circle at 80% 30%, var(--bg2), transparent 60%),
                  linear-gradient(135deg, #ffffff, #fff7fb);
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 24px;
    }

    .card{
      width:min(720px, 95vw);
      background: rgba(255,255,255,.75);
      border: 1px solid rgba(255, 45, 85, .18);
      backdrop-filter: blur(10px);
      border-radius: 24px;
      box-shadow: var(--shadow);
      padding: 34px 22px 42px;
      text-align:center;
      position:relative;
      z-index: 2; /* keep above background */
    }

    h1{
      margin: 0 0 26px;
      font-size: clamp(28px, 4vw, 44px);
      line-height:1.1;
      letter-spacing:.2px;
    }

    .btn-row{
      display:flex;
      gap: 14px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
      margin-top: 6px;
      position: relative;
      min-height: 110px;
    }

    button{
      border:0;
      padding: 14px 28px;
      border-radius: 14px;
      font-size: 18px;
      font-weight: 700;
      cursor:pointer;
      transition: transform .12s ease, filter .12s ease;
      box-shadow: 0 10px 18px rgba(0,0,0,.10);
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    #yesBtn{
      background: var(--yes);
      color:white;
      border: 2px solid rgba(255,255,255,.4);
    }
    #yesBtn:hover{ transform: translateY(-2px) scale(1.02); }
    #yesBtn:active{ transform: translateY(0) scale(.98); filter: brightness(.95); }

    #noBtn{
      background: #ffffff;
      color: #333;
      border: 2px solid rgba(0,0,0,.08);
      position:absolute;
    }

    .message{
      margin-top: 22px;
      font-weight: 700;
      font-size: 18px;
      min-height: 28px;
      color: var(--yes-dark);
    }

    /* Shower particles */
    .particle{
      position: fixed;
      top: -40px;
      font-size: 28px;
      pointer-events: none;
      z-index: 9999;
      will-change: transform, opacity;
      filter: drop-shadow(0 6px 6px rgba(0,0,0,.15));
      animation: fall linear forwards;
    }

    @keyframes fall{
      0%   { transform: translate3d(var(--x), -60px, 0) rotate(0deg); opacity: 0; }
      10%  { opacity: 1; }
      100% { transform: translate3d(var(--x), 110vh, 0) rotate(var(--r)); opacity: 0; }
    }

    .celebrate .card{
      animation: pulse 800ms ease-in-out 1;
      border-color: rgba(255, 45, 85, .35);
    }
    @keyframes pulse{
      0%{ transform: scale(1); }
      50%{ transform: scale(1.02); }
      100%{ transform: scale(1); }
    }

    /* === Center image overlay shown after YES === */
    #photoOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.45);
      display: none;              /* hidden by default */
      align-items: center;
      justify-content: center;
      z-index: 9998;              /* just under particles */
      padding: 18px;
    }
    #photoOverlay.show{
      display: flex;
    }
    #photoWrap{
      background: rgba(255,255,255,.92);
      border-radius: 18px;
      padding: 12px;
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      max-width: min(520px, 92vw);
    }
    #valPhoto{
      display:block;
      width: 100%;
      height: auto;
      border-radius: 14px;
      max-height: min(70vh, 650px);
      object-fit: contain;
    }
    #closeHint{
      margin-top: 10px;
      font-size: 12px;
      opacity: .7;
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="card">
    <h1>Sharayu will be my valentine</h1>

    <div class="btn-row" id="btnRow">
      <button id="yesBtn" aria-label="Yes">YES</button>
      <button id="noBtn" aria-label="No" tabindex="-1">NO</button>
    </div>

    <div class="message" id="msg"></div>
  </div>

  <!-- Centered photo overlay -->
  <div id="photoOverlay" aria-hidden="true">
    <div id="photoWrap">
      <!-- Put your image in the same folder as this HTML file -->
      <img id="valPhoto" src="IMG-20250926-WA0096.jpg" alt="Valentine photo" />
      <div id="closeHint">Tap/click anywhere outside the photo to close</div>
    </div>
  </div>

  <script>
    const noBtn = document.getElementById('noBtn');
    const yesBtn = document.getElementById('yesBtn');
    const msg = document.getElementById('msg');
    const btnRow = document.getElementById('btnRow');

    const overlay = document.getElementById('photoOverlay');
    const photoWrap = document.getElementById('photoWrap');

    // ======= TUNING KNOBS =======
    const DODGE_RADIUS = 260; // bigger = dodges earlier (try 300/340)
    const BASE_JUMP    = 180;
    const EXTRA_JUMP   = 220;
    // ============================

    function placeNoInitial(){
      const rowRect = btnRow.getBoundingClientRect();
      noBtn.style.left = Math.max(0, rowRect.width * 0.62) + "px";
      noBtn.style.top  = "50%";
      noBtn.style.transform = "translateY(-50%)";
    }

    const clamp = (v, min, max) => Math.max(min, Math.min(max, v));
    const dist = (ax, ay, bx, by) => Math.hypot(ax - bx, ay - by);

    function dodge(pointerX, pointerY){
      const rowRect = btnRow.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const bx = btnRect.left + btnRect.width / 2;
      const by = btnRect.top  + btnRect.height / 2;

      const d = dist(pointerX, pointerY, bx, by);
      if (d > DODGE_RADIUS) return;

      // 0 at edge of radius, 1 when very close
      const closeness = 1 - (d / DODGE_RADIUS);

      // more aggressive as you get closer
      const shouldDodge = Math.random() < (0.45 + 0.55 * closeness);
      if (!shouldDodge) return;

      let vx = bx - pointerX;
      let vy = by - pointerY;

      if (Math.abs(vx) < 0.001 && Math.abs(vy) < 0.001) {
        vx = (Math.random() - 0.5);
        vy = (Math.random() - 0.5);
      }

      const len = Math.hypot(vx, vy);
      vx /= len; vy /= len;

      const jump = BASE_JUMP + EXTRA_JUMP * closeness + Math.random() * 70;
      const jitterX = (Math.random() - 0.5) * (140 + 90 * closeness);
      const jitterY = (Math.random() - 0.5) * (90  + 60 * closeness);

      const currentLeft = btnRect.left - rowRect.left;
      const currentTop  = btnRect.top  - rowRect.top;

      let newLeft = currentLeft + vx * jump + jitterX;
      let newTop  = currentTop  + vy * jump + jitterY;

      const maxLeft = rowRect.width - btnRect.width;
      const maxTop  = rowRect.height - btnRect.height;

      newLeft = clamp(newLeft, 0, maxLeft);
      newTop  = clamp(newTop, 0, maxTop);

      noBtn.style.left = newLeft + "px";
      noBtn.style.top  = newTop  + "px";
      noBtn.style.transform = "translate(0,0)";
    }

    // Make NO unclickable (but hoverable so it can dodge)
    noBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      return false;
    });

    noBtn.addEventListener('mouseenter', (e) => {
      dodge(e.clientX, e.clientY);
    });

    window.addEventListener('mousemove', (e) => dodge(e.clientX, e.clientY));
    window.addEventListener('pointermove', (e) => dodge(e.clientX, e.clientY), { passive:true });
    window.addEventListener('touchmove', (e) => {
      if(!e.touches || !e.touches[0]) return;
      dodge(e.touches[0].clientX, e.touches[0].clientY);
    }, { passive:true });

    // Hearts + Flowers shower
    const emojis = ["ðŸ’–","ðŸ’˜","ðŸ’","â¤ï¸","ðŸŒ¸","ðŸŒ·","ðŸŒ¹","ðŸ’","ðŸŒº","âœ¨"];
    let showerInterval = null;

    function createParticle(){
      const p = document.createElement('div');
      p.className = 'particle';
      p.textContent = emojis[Math.floor(Math.random() * emojis.length)];

      const x = Math.random() * 100;
      const rotate = (Math.random() * 720 - 360).toFixed(0) + "deg";
      const duration = (2.8 + Math.random() * 2.2).toFixed(2) + "s";
      const size = (22 + Math.random() * 18).toFixed(0) + "px";

      p.style.setProperty('--x', x + 'vw');
      p.style.setProperty('--r', rotate);
      p.style.animationDuration = duration;
      p.style.fontSize = size;

      document.body.appendChild(p);
      setTimeout(() => p.remove(), (parseFloat(duration) * 1000) + 200);
    }

    function startShower(){
      for(let i=0;i<40;i++) setTimeout(createParticle, i*20);

      if(showerInterval) clearInterval(showerInterval);
      showerInterval = setInterval(() => {
        for(let i=0;i<6;i++) createParticle();
      }, 250);
    }

    function stopShowerAfter(ms){
      setTimeout(() => {
        clearInterval(showerInterval);
        showerInterval = null;
      }, ms);
    }

    // Show overlay + shower on YES
    yesBtn.addEventListener('click', () => {
      document.body.classList.add('celebrate');
      msg.textContent = "Yay! ðŸ’–ðŸŒ¸";

      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden', 'false');

      startShower();
      stopShowerAfter(9000);
    });

    // Close overlay when clicking outside the photo
    overlay.addEventListener('click', () => {
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden', 'true');
    });

    // Prevent clicks on the image box from closing the overlay
    photoWrap.addEventListener('click', (e) => e.stopPropagation());

    window.addEventListener('load', placeNoInitial);
    window.addEventListener('resize', placeNoInitial);
  </script>
</body>
</html>